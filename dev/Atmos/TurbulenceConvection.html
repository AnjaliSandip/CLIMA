<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>TurbulenceConvection · CLIMA</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img src="../assets/logo.svg" alt="CLIMA logo"/></a><div class="docs-package-name"><span class="docs-autofit">CLIMA</span></div><form class="docs-search" action="../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Home</a></li><li><span class="tocitem">Common</span><ul><li><a class="tocitem" href="../Common/MoistThermodynamics.html">MoistThermodynamics</a></li></ul></li><li><span class="tocitem">Utilites</span><ul><li><a class="tocitem" href="../Utilities/RootSolvers.html">RootSolvers</a></li></ul></li><li><span class="tocitem">Atmos</span><ul><li><a class="tocitem" href="SurfaceFluxes.html">Surface Fluxes</a></li><li class="is-active"><a class="tocitem" href="TurbulenceConvection.html">TurbulenceConvection</a><ul class="internal"><li><a class="tocitem" href="#Grids-1"><span>Grids</span></a></li><li><a class="tocitem" href="#Operators-1"><span>Operators</span></a></li><li><a class="tocitem" href="#State-Vector-1"><span>State Vector</span></a></li><li><a class="tocitem" href="#Examples-1"><span>Examples</span></a></li></ul></li><li><a class="tocitem" href="EDMFEquations.html">Eddy-Diffusivity Mass-Flux (EDMF) equations</a></li><li><a class="tocitem" href="Microphysics.html">Microphysics</a></li></ul></li><li><a class="tocitem" href="../ODESolvers.html">ODESolvers</a></li><li><a class="tocitem" href="../LinearSolvers.html">LinearSolvers</a></li><li><a class="tocitem" href="../Mesh.html">Mesh</a></li><li><a class="tocitem" href="../Arrays.html">Arrays</a></li><li><a class="tocitem" href="../DGmethods_old.html">DGmethods_old</a></li><li><a class="tocitem" href="../InputOutput.html">InputOutput</a></li><li><span class="tocitem">Developer docs</span><ul><li><a class="tocitem" href="../CodingConventions.html">Coding Conventions</a></li><li><a class="tocitem" href="../AcceptableUnicode.html">Acceptable Unicode characters</a></li><li><a class="tocitem" href="../VariableList.html">CliMA Variable List</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Atmos</a></li><li class="is-active"><a href="TurbulenceConvection.html">TurbulenceConvection</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="TurbulenceConvection.html">TurbulenceConvection</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/climate-machine/CLIMA/blob/master/docs/src/Atmos/TurbulenceConvection.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="TurbulenceConvection-1"><a class="docs-heading-anchor" href="#TurbulenceConvection-1">TurbulenceConvection</a><a class="docs-heading-anchor-permalink" href="#TurbulenceConvection-1" title="Permalink"></a></h1><h2 id="Grids-1"><a class="docs-heading-anchor" href="#Grids-1">Grids</a><a class="docs-heading-anchor-permalink" href="#Grids-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Grid" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Grid"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Grid</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Grid{T, I}</code></pre><p>A simple 1-dimensional uniform grid of type <code>T</code> for finite difference method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L13-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.over_elems" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.over_elems"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.over_elems</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">over_elems(grid::Grid)</code></pre><p>Get the range of indexes to traverse real and ghost grid elements</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L147-L151">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.over_elems_real" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.over_elems_real"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.over_elems_real</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">over_elems_real(grid::Grid)</code></pre><p>Get the range of indexes to traverse only real grid elements</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L154-L158">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.over_elems_ghost" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.over_elems_ghost"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.over_elems_ghost</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">over_elems_ghost(grid::Grid)</code></pre><p>Get the range of indexes to traverse only ghost grid elements</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L200-L204">source</a></section><section><div><pre><code class="language-none">over_elems_ghost(grid::Grid, ::ZBoundary)</code></pre><p>Get the range of indexes to traverse only ghost grid elements below <span>$z_{min}$</span> and above <span>$z_{max}$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L207-L211">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Zmin" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Zmin"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Zmin</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Zmin</code></pre><p>Type to dispatch function to particular location</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L109-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Zmax" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Zmax"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Zmax</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Zmax</code></pre><p>Type to dispatch function to particular location</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L103-L106">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.n_hat" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.n_hat"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.n_hat</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">n_hat(::ZBoundary)</code></pre><p>The outward normal vector to the boundary</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L115-L119">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.binary" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.binary"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.binary</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">binary(::ZBoundary)</code></pre><p>Returns 0 for Zmin and 1 for Zmax</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L123-L127">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.ghost_vec" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.ghost_vec"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.ghost_vec</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">ghost_vec(::ZBoundary)</code></pre><p>A 3-element vector near the boundary with 1&#39;s on ghost cells and 0&#39;s on interior cells</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L131-L135">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.ghost_dual" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.ghost_dual"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.ghost_dual</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">ghost_dual(::ZBoundary)</code></pre><p>A 2-element vector near the boundary with 1&#39;s on ghost cells and 0&#39;s on interior cells</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L139-L143">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.first_interior" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.first_interior"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.first_interior</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">first_interior(grid::Grid, ::ZBoundary)</code></pre><p>Get the first element index in the physical domain</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L161-L165">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.boundary" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.boundary"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.boundary</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">boundary(grid::Grid, ::ZBoundary)</code></pre><p>Get the element index for edge data at the boundary</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L169-L173">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.second_interior" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.second_interior"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.second_interior</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">second_interior(grid::Grid, ::ZBoundary)</code></pre><p>Get the second element index in the physical domain</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L177-L181">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.first_ghost" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.first_ghost"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.first_ghost</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">first_ghost(grid::Grid, ::ZBoundary)</code></pre><p>Get the first element index in the ghost domain</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L185-L189">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.boundary_points" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.boundary_points"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.boundary_points</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">boundary_points(grid::Grid, ::ZBoundary)</code></pre><p>Get the first element index in the ghost domain</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/FiniteDifferenceGrids.jl#L193-L197">source</a></section></article><h2 id="Operators-1"><a class="docs-heading-anchor" href="#Operators-1">Operators</a><a class="docs-heading-anchor-permalink" href="#Operators-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.grad" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.grad"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.grad</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">grad(f, grid::Grid{FT}) where FT</code></pre><p>Computes local finite-difference gradient of <code>f</code>: <code>∇f</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/GridOperators.jl#L28-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_pos" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_pos"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_pos</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">∇_pos(f, grid::Grid)</code></pre><p>Computes a one-sided (up) local finite-difference gradient of <code>f</code>: <code>∇f</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/GridOperators.jl#L42-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_neg" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_neg"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_neg</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">∇_neg(f, grid::Grid)</code></pre><p>Computes a one-sided (down) local finite-difference gradient of <code>f</code>: <code>∇f</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/GridOperators.jl#L52-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_z_flux" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_z_flux"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_z_flux</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">∇_z_flux(f, grid::Grid)</code></pre><p>Computes the local derivative of field <span>$f$</span>, which is assumed to live on the dual grid: <span>$∇f$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/GridOperators.jl#L63-L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_z_centered" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_z_centered"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_z_centered</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">∇_z_centered(f, grid::Grid)</code></pre><p>Computes the local derivative of field <span>$f$</span>, which is assumed to live on the dual grid: <span>$∇f$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/GridOperators.jl#L74-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_z_dual" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_z_dual"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_z_dual</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">∇_z_dual(f, grid::Grid)</code></pre><p>Computes the local derivative of field <span>$f$</span>, which is assumed to live on the dual grid: <span>$∇f$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/GridOperators.jl#L85-L90">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_z_upwind" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_z_upwind"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.∇_z_upwind</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">∇_z_upwind(ϕ, w, grid::Grid)</code></pre><p>Local upwind gradient operator <span>$∇ϕ$</span>. This operator is stable but numerically diffusive.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/GridOperators.jl#L96-L101">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Δ_z" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Δ_z"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Δ_z</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">Δ_z(f, grid::Grid)</code></pre><p>Computes the local Laplacian of field <span>$f$</span>: <span>$∇ • (∇f)$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/GridOperators.jl#L108-L113">source</a></section><section><div><pre><code class="language-none">Δ_z(f, grid::Grid, K)</code></pre><p>Computes the local Laplacian of field <span>$f$</span> with a variable coefficient: <span>$∇ • (K ∇f)$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/GridOperators.jl#L119-L125">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Δ_z_dual" href="#CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Δ_z_dual"><code>CLIMA.TurbulenceConvection.FiniteDifferenceGrids.Δ_z_dual</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">Δ_z_dual(f, grid::Grid, K)</code></pre><p>Computes the local Laplacian of field <span>$f$</span> with a variable coefficient: <span>$∇ • (K ∇f)$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/Grids/GridOperators.jl#L133-L139">source</a></section></article><h2 id="State-Vector-1"><a class="docs-heading-anchor" href="#State-Vector-1">State Vector</a><a class="docs-heading-anchor-permalink" href="#State-Vector-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.StateVec" href="#CLIMA.TurbulenceConvection.StateVecs.StateVec"><code>CLIMA.TurbulenceConvection.StateVecs.StateVec</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">StateVec{VM}</code></pre><p>A state vector containing the number of subdomains, <code>n_subdomains</code>, a <code>NamedTuple</code> variable mapper, a tuple of the variable names, and a vector of vectors, containing the values for all of the variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L25-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.over_sub_domains" href="#CLIMA.TurbulenceConvection.StateVecs.over_sub_domains"><code>CLIMA.TurbulenceConvection.StateVecs.over_sub_domains</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">over_sub_domains(sv::StateVec, ϕ::Symbol)</code></pre><p>Get list of indexes over all subdomains for variable <code>ϕ</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L122-L126">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.Cut" href="#CLIMA.TurbulenceConvection.StateVecs.Cut"><code>CLIMA.TurbulenceConvection.StateVecs.Cut</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Cut{I} &lt;: AbstractCut{I}</code></pre><p>A Cut struct used to slice the state vector along the grid-element dimension. This is used as an API to pass Cuts into local derivative/interpolation routines.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L144-L151">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.Dual" href="#CLIMA.TurbulenceConvection.StateVecs.Dual"><code>CLIMA.TurbulenceConvection.StateVecs.Dual</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Dual{I} &lt;: AbstractCut{I}</code></pre><p>A Dual struct used to slice the state vector along the grid-element dimension. In addition, this interpolates fields [(f[k-1]+f[k])/2, (f[k]+f[k+1])/2]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L159-L166">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.var_names" href="#CLIMA.TurbulenceConvection.StateVecs.var_names"><code>CLIMA.TurbulenceConvection.StateVecs.var_names</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">var_names(sv::StateVec)</code></pre><p>Get tuple of variable names.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L96-L100">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.var_string" href="#CLIMA.TurbulenceConvection.StateVecs.var_string"><code>CLIMA.TurbulenceConvection.StateVecs.var_string</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">var_string(sv::StateVec, ϕ::Symbol, i=0)</code></pre><p>A string of the variable <code>ϕ</code> with the appropriate suffix indicating its sub-domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L188-L192">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.var_suffix" href="#CLIMA.TurbulenceConvection.StateVecs.var_suffix"><code>CLIMA.TurbulenceConvection.StateVecs.var_suffix</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">var_suffix(sv::StateVec, ϕ::Symbol, i=0)</code></pre><p>A suffix string for variable <code>ϕ</code> indicating its sub-domain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L178-L182">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.assign!" href="#CLIMA.TurbulenceConvection.StateVecs.assign!"><code>CLIMA.TurbulenceConvection.StateVecs.assign!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">assign!(sv::StateVec, var_names, grid::Grid, val, i=1)</code></pre><p>Assign value <code>val</code> to variable <code>ϕ</code> for all ghost points.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L198-L202">source</a></section><section><div><pre><code class="language-none">assign!(sv::StateVec, grid::Grid, val)</code></pre><p>Assign value <code>val</code> to all variables in state vector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L211-L215">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.assign_real!" href="#CLIMA.TurbulenceConvection.StateVecs.assign_real!"><code>CLIMA.TurbulenceConvection.StateVecs.assign_real!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">assign_real!(sv::StateVec, ϕ::Symbol, grid::Grid, vec_real, i=0)</code></pre><p>Assign the real elements to the given vector <code>vec_real</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L223-L227">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.assign_ghost!" href="#CLIMA.TurbulenceConvection.StateVecs.assign_ghost!"><code>CLIMA.TurbulenceConvection.StateVecs.assign_ghost!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">assign_ghost!(sv::StateVec, ϕ::Symbol, grid::Grid, val, i=0)</code></pre><p>Assign value <code>val</code> to variable <code>ϕ</code> for all ghost points.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L238-L242">source</a></section><section><div><pre><code class="language-none">assign_ghost!(sv::StateVec, ϕ::Symbol, grid::Grid, val, b::ZBoundary, i=1)</code></pre><p>Assign value <code>val</code> to variable <code>ϕ</code> for all ghost points.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L250-L254">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.extrap!" href="#CLIMA.TurbulenceConvection.StateVecs.extrap!"><code>CLIMA.TurbulenceConvection.StateVecs.extrap!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">extrap!(sv::StateVec, ϕ::Symbol, grid::Grid, i=1)</code></pre><p>Extrapolate variable <code>ϕ</code> to the first ghost point.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L283-L287">source</a></section><section><div><pre><code class="language-none">extrap!(sv::StateVec, ϕ::Symbol, grid::Grid, ::ZBoundary, i=1)</code></pre><p>Extrapolate variable <code>ϕ</code> to the first ghost point.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L296-L300">source</a></section><section><div><pre><code class="language-none">extrap!(sv::StateVec, ϕ::Symbol, grid::Grid, dual_val, b::ZBoundary, i=1)</code></pre><p>Extrapolate variable <code>ϕ</code> to the first ghost point.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L307-L311">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.extrap_0th_order!" href="#CLIMA.TurbulenceConvection.StateVecs.extrap_0th_order!"><code>CLIMA.TurbulenceConvection.StateVecs.extrap_0th_order!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">extrap_0th_order!(sv::StateVec, ϕ::Symbol, grid::Grid, i=1)</code></pre><p>Extrapolate variable <code>ϕ</code> to the first ghost point using zeroth order approximation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L319-L323">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.compare" href="#CLIMA.TurbulenceConvection.StateVecs.compare"><code>CLIMA.TurbulenceConvection.StateVecs.compare</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">compare(sv::StateVec, sv_expected::StateVec, grid::Grid, tol)</code></pre><p>A dictionary, with keys in <code>var_names(vs)</code>, containing a <code>Bool</code> indicating that <code>sv</code> ≈ <code>sv_expected</code> for all of their sub-domains for all elements.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/StateVecs.jl#L262-L267">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.DomainIdx" href="#CLIMA.TurbulenceConvection.StateVecs.DomainIdx"><code>CLIMA.TurbulenceConvection.StateVecs.DomainIdx</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">DomainIdx{GM,EN,UD}</code></pre><p>Decomposition of domain indexes, including indexes for</p><ul><li><code>i_gm</code> grid-mean domain</li><li><code>i_en</code> environment sub-domain</li><li><code>i_ud</code> updraft sub-domains</li></ul><p>Note that the index ordering logic is defined here.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/DomainIdx.jl#L5-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.subdomains" href="#CLIMA.TurbulenceConvection.StateVecs.subdomains"><code>CLIMA.TurbulenceConvection.StateVecs.subdomains</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">subdomains(idx::DomainIdx)</code></pre><p>Tuple of sub-domain indexes, including environment and updrafts</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/DomainIdx.jl#L41-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.alldomains" href="#CLIMA.TurbulenceConvection.StateVecs.alldomains"><code>CLIMA.TurbulenceConvection.StateVecs.alldomains</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">alldomains(idx::DomainIdx)</code></pre><p>Tuple of all sub-domain indexes, including grid-mean, environment and updrafts</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/DomainIdx.jl#L48-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.eachdomain" href="#CLIMA.TurbulenceConvection.StateVecs.eachdomain"><code>CLIMA.TurbulenceConvection.StateVecs.eachdomain</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">eachdomain(idx::DomainIdx)</code></pre><p>Tuple of indexes including</p><ul><li>grid-mean</li><li>environment</li><li>Tuple of updraft indexes</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/DomainIdx.jl#L55-L62">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.allcombinations" href="#CLIMA.TurbulenceConvection.StateVecs.allcombinations"><code>CLIMA.TurbulenceConvection.StateVecs.allcombinations</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">allcombinations(idx::DomainIdx)</code></pre><p>Tuple of indexes including</p><ul><li>grid-mean</li><li>environment</li><li>Tuple of updraft indexes</li><li>Tuple of all sub-domains</li><li>Tuple of all domains</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/DomainIdx.jl#L65-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.DomainSubSet" href="#CLIMA.TurbulenceConvection.StateVecs.DomainSubSet"><code>CLIMA.TurbulenceConvection.StateVecs.DomainSubSet</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">DomainSubSet{GM,EN,UD}</code></pre><p>Subset of domains</p><ul><li><code>gm</code> bool indicating to include grid-mean domain</li><li><code>en</code> bool indicating to include environment sub-domain</li><li><code>ud</code> bool indicating to include updraft sub-domains</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/DomainSubSet.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.get_param" href="#CLIMA.TurbulenceConvection.StateVecs.get_param"><code>CLIMA.TurbulenceConvection.StateVecs.get_param</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">get_param(::Type{Domain})</code></pre><p>The number of domains in domain <code>Domain</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/DomainDecomp.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CLIMA.TurbulenceConvection.StateVecs.DomainDecomp" href="#CLIMA.TurbulenceConvection.StateVecs.DomainDecomp"><code>CLIMA.TurbulenceConvection.StateVecs.DomainDecomp</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">DomainDecomp{GM,EN,UD}</code></pre><p>Decomposition of number of domains</p><ul><li><code>gm</code> number of grid-mean domain</li><li><code>en</code> number of environment sub-domain</li><li><code>ud</code> number of updraft sub-domains</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/climate-machine/CLIMA/blob/76bc817bd6b2e59fb5726f6090f467a5547cada6/src/Atmos/Parameterizations/TurbulenceConvection/StateVecs/DomainDecomp.jl#L19-L26">source</a></section></article><h2 id="Examples-1"><a class="docs-heading-anchor" href="#Examples-1">Examples</a><a class="docs-heading-anchor-permalink" href="#Examples-1" title="Permalink"></a></h2><p>Several examples exist in the test directory.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="SurfaceFluxes.html">« Surface Fluxes</a><a class="docs-footer-nextpage" href="EDMFEquations.html">Eddy-Diffusivity Mass-Flux (EDMF) equations »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 12 February 2020 21:09">Wednesday 12 February 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
